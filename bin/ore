#!/usr/bin/env ruby

require 'rubygems'

unless ARGV.empty?
  begin
    require 'ore/cli'
  rescue LoadError => e
    STDERR.puts 'Could not load "ore/cli"'
    exit -1
  end

  Ore::CLI.start
else
  begin
    require 'ore/project'
  rescue LoadError => e
    STDERR.puts 'Could not load "ore/project"'
    exit -1
  end

  begin
    Ore::Project.find.build!
  rescue Ore::Exception => e
    STDERR.puts e.message
    exit -1
  end
end
